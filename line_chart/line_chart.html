<html>
    <head>
        <meta charset="utf-8">
        <script type="text/javascript" src="d3/d3.v3.js"></script>
        <style type="text/css">
            .axis path,
            .axis line{
                fill:none;
                stroke:black;
                shape-rendering:crispEdges;
            }
            .axis text{
                font-size:20;
            }
            path{
                stroke:orange;
                stroke-width:2;
                fill:none;
            }
        </style>
    </head>
    <body>
        <script type="text/javascript">
            var w=600;
            var h=600;
            var padding=30;
            
            var dataset = [
							[5, 20], [25, 67], [50, 50], [75, 33], [100, 95],
							[125, 80], [150, 88], [175, 67], [200, 21], [225, 88],
							[250, 150]
						  ];
            
            //比例尺
            
            var xScale=d3.scale.linear()
                                .domain([0,d3.max(dataset,function(d){
                                    return d[0]+50;
                                })])
                                .range([padding,w-padding*2]);
            var yScale=d3.scale.linear()
                                .domain([0,d3.max(dataset,function(d){
                                    return d[1];
                                })])
                                .range([h-padding,padding]);
            
            //数轴
            
            var xAxis=d3.svg.axis()
                            .scale(xScale)
                            .orient("bottom")
                            .ticks(5);
            var yAxis=d3.svg.axis()
                            .scale(yScale)
                            .orient("left")
                            .ticks(5);
            
            //连线
            
            var valueline=d3.svg.line()
                            .interpolate("linear")
                            .x(function(d){
                                return xScale(d[0])+padding;
                            })
                            .y(function(d){
                                return yScale(d[1])+padding;
                            });
            
            
            //SVG
            
            var svg=d3.select("body")
                        .append("svg")
                        .attr("width",w)
                        .attr("height",h);
            
            //Circle
            
            svg.selectAll("circle")
                .data(dataset)
                .enter()
                .append("circle")
                .attr("cx",function(d){
                    return xScale(d[0])+padding;
                })
                .attr("cy",function(d){
                    return yScale(d[1])+padding;
                })
                .attr("r","5")
                .attr("fill","green");
            
            //Text
            
            svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function(d){
                    return d[0]+","+d[1];
                })
                .attr("x",function(d){
                    return xScale(d[0])+padding;
                })
                .attr("y",function(d){
                    return yScale(d[1])+padding;
                })
                .attr("font-size","15");
            
            //Line
            
            var linegraph=svg.append("path")
                            .data(dataset)
                            .attr("class","line")
                            .style("fill","transparent")
                            .attr("stroke-width","2")
                            .attr("d",valueline(dataset))
                            .append("g")
                            .attr("transform","translate("+padding+","+(h-padding)+")");
            
            
            svg.append("g")
                .attr("class","x axis")            
                .attr("transform","translate("+padding+","+(h-padding)+")")
                .call(xAxis)
                .append("text")
                .attr("x",w-padding-30)
                .attr("y",0)
                .text("X轴");
            
			svg.append("g")
                .attr("class","y axis")
                .attr("transform","translate("+padding*2+",0)")
                .call(yAxis)
                .append("text")
                .attr("x",0)
                .attr("y",padding)
                .text("Y轴");
        </script>
    </body>
</html>


